# Домашнее задание к занятию «Резервное копирование баз данных»

### Задание 1. Резервное копирование

### Кейс
Финансовая компания решила увеличить надёжность работы баз данных и их резервного копирования. 

Необходимо описать, какие варианты резервного копирования подходят в случаях: 

1.1. Необходимо восстанавливать данные в полном объёме за предыдущий день.

- Для восстановления данных в полном объеме за предыдущий день подходит ежедневное полное резервное копирование (Full Backup).

---

1.2. Необходимо восстанавливать данные за час до предполагаемой поломки.

- Для восстановления данных за час до предполагаемой поломки нужно использовать инкрементное резервное копирование (Incremental Backup). 

---

1.3.* Возможен ли кейс, когда при поломке базы происходило моментальное переключение на работающую или починенную базу данных.

*Приведите ответ в свободной форме.*

- Моментальное переключение на работающую или починенную базу данных возможно с использованием репликации и кластеризации.

---

### Задание 2. PostgreSQL

2.1. С помощью официальной документации приведите пример команды резервирования данных и восстановления БД (pgdump/pgrestore).

## Ответ

```sh
pg_dump -U username -d dbname -f backup_file.sql

pg_restore -U username -d dbname backup_file.sql
```
---

2.1.* Возможно ли автоматизировать этот процесс? Если да, то как?

*Приведите ответ в свободной форме.*

- Этот процесс можно автоматизировать написав соответствующий скрипт , который можно добавить в планировщик cron.

---

### Задание 3. MySQL

3.1. С помощью официальной документации приведите пример команды инкрементного резервного копирования базы данных MySQL. 

## Ответ

```sql
mysqldump --user=username --password=password --single-transaction --master-data=2 --databases dbname > backup_file.sql
```

3.1.* В каких случаях использование реплики будет давать преимущество по сравнению с обычным резервным копированием?

*Приведите ответ в свободной форме.*

- Использование реплики может дать преимущество, когда нужно снизить воздействие на основную базу данных при создании резервных копий. Репликация позволяет создавать резервные копии на вторичных серверах, не влияя на основной сервер.
